<div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl" id="atendeeModalScroll">
    <div class="modal-content">

        <div class="modal-header  light-blue darken-3 white-text">
            <h5 class="modal-title">{{ title }}</h5>
            <button style="color: white" type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="modal-body">
            <p>{{ 'Teilnehmerliste'|trans }}</p>
            <p class="small">
                <i class="fa fa-crown"></i> {{ 'Zum Moderator ernennen'|trans }}
                <i class="fas fa-share-square"></i> {{ 'participant.resend.invitation'|trans }}
                {% if room.dissallowScreenshareGlobal %}
                    <br><i class="fas fa-desktop"></i> {{ 'Erlauben seinen Desktop zu teilen'|trans }}
                {% endif %}
                {% if room.lobby %}
                    <br><i class="fas fa-couch"></i> {{ 'addParticipants.lobbyModerator.help'|trans }}
                {% endif %}
            </p>
            <div class="attendeeScroll">
                <ul id="atendeeList">
                    <li class="d-flex flex-column flex-lg-row align-items-lg-center">{{ room.moderator|nameOfUser }} <span class="small">({{ 'Organisator'|trans }})</span></li>
                    {% for user in room.user %}
                        {% if user != room.moderator %}
                            <li class="d-flex flex-column flex-lg-row align-items-lg-center">

                                <span>{{ user|nameOfUser }}</span>

                                <span>
                                <a class="btn-sm btn-floating directSend {% if roomPermissions(user,room).moderator == true %}btn-success{% endif %}"
                                   href="{{ path('room_add_moderator',{'room':room.id,'user':user.id}) }}"
                                   data-text="
                                    {% if roomPermissions(user,room).moderator == false %}
                                    {{ 'Wollen Sie den Teilnehmer wirklich zum Moderator ernennen?'|trans }}
                                    {% else %}
                                    {{ 'Wollen Sie den Teilnehmer wirklich als  Moderator entfernen?'|trans }}
                                    {% endif %}
"
                                   data-target="#atendeeList"
                                   data-url="{{ path('room_add_user',{'room':room.id}) }}"
                                   data-toggle="tooltip" title="{{ 'Zum Moderator ernennen'|trans }}"
                                ><i class="fa fa-crown"></i></a>


                                {% if room.dissallowScreenshareGlobal %}
                                    <a class="btn-sm btn-floating directSend {% if roomPermissions(user,room).shareDisplay == true %}btn-success{% endif %}"
                                       href="{{ path('change_permissions_screenShare',{'room':room.id,'user':user.id}) }}"
                                       data-text="
{% if roomPermissions(user,room).shareDisplay == false %}{{ 'Diesem Nutzer erlauben seinen Bildschirm zu teilen'|trans }}
{% else %}
{{ 'Diesem Nutzer nicht mehr erlauben seinen Bildschirm zu teilen'|trans }}
{% endif %}
"
                                       data-target="#atendeeList"
                                       data-url="{{ path('room_add_user',{'room':room.id}) }}"
                                       data-toggle="tooltip" title="{{ 'Erlauben seinen Desktop zu teilen'|trans }}"
                                    ><i
                                                class="fas fa-desktop"></i></a>
                                {% endif %}



                                    {% if room.dissallowPrivateMessage %}
                                        <a class="btn-sm btn-floating directSend {% if roomPermissions(user,room).privateMessage == true %}btn-success{% endif %}"
                                           href="{{ path('change_permissions_privateMessage',{'room':room.id,'user':user.id}) }}"
                                           data-text="
{% if roomPermissions(user,room).privateMessage == false %}{{ 'Diesem Nutzer erlauben private Nachrichten an andere Teilnehmer zu senden'|trans }}
{% else %}
{{ 'Diesem Nutzer nicht mehr erlauben private Nachrichten an andere Teilnehmer zu senden'|trans }}
{% endif %}
"
                                           data-target="#atendeeList"
                                           data-url="{{ path('room_add_user',{'room':room.id}) }}"
                                        ><i class="far fa-comments"></i></a>
                                    {% endif %}
                                    {% if room.lobby %}
                                        <a class="btn-sm btn-floating directSend {% if roomPermissions(user,room).lobbyModerator == true %}btn-success{% endif %}"
                                           href="{{ path('room_add_lobby_moderator',{'room':room.id,'user':user.id}) }}"
                                           data-text="
{% if roomPermissions(user,room).privateMessage == false %}{{ 'addParticipants.lobbyModerator.add'|trans }}
{% else %}
{{ 'addParticipants.lobbyModerator.remove'|trans }}
{% endif %}
"
                                           data-target="#atendeeList"
                                           data-url="{{ path('room_add_user',{'room':room.id}) }}"
                                           data-toggle="tooltip" title="{{ 'addParticipants.lobbyModerator.help'|trans }}"
                                        > <i class="fas fa-couch"></i></a>
                                    {% endif %}
                                <a class="directSendWithConfirm"
                                   href="{{ path('room_user_remove',{'room':room.id,'user':user.id}) }}"
                                   data-target="#atendeeList"
                                   data-text="{{ 'Wollen Sie den Teilnehmer wirklich löschen?'|trans }}"
                                   data-url="{{ path('room_add_user',{'room':room.id}) }}">
                                    <i class="fa fa-trash "></i>
                                </a>

                                </span>
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>

                {% if room.waitinglists|length > 0 %}

                    <b>{{ 'Warteliste'|trans }}</b>
                    <hr>
                    <ul>
                        {% for w in room.waitinglists |sort((a, b) => a.createdAt <=> b.createdAt) %}
                            <li>{{ w.user.email }}
                                <a class="small directSend"
                                   href="{{ path('accept_waitingList',{'id':w.id}) }}"
                                   data-text="{{ 'Wollen Sie den Teilnehmer wirklich zur Konferenz hinzufügen'|trans }}"
                                   data-target="#atendeeList"
                                   data-url="{{ path('room_add_user',{'room':room.id}) }}"
                                ><i class="fa fa-check"></i>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>


                {% endif %}
            </div>
            <hr>
            {{ include('room/__addAtendee.twig') }}
        </div>
    </div>
</div>
